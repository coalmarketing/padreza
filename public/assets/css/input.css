@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  body {
    @apply whitespace-normal;
  }

  input[type="text"],
  input[type="number"],
  input[type="email"],
  textarea {
    @apply border h-12 min-h-12 w-full border-primary px-4 py-2 focus:border-secondary focus:ring focus:ring-secondary outline-none placeholder-primary;
  }

  .btn {
    @apply relative text-white font-semibold overflow-hidden z-10 before:absolute before:top-0 before:left-0 before:h-full before:w-full before:bg-black before:-z-10 before:transition-transform before:duration-300 before:scale-y-0 before:origin-bottom hover:before:scale-y-100;
  }

  .btn {
    @apply py-2 px-6 bg-primary;
  }

  input[type="radio"],
  input[type="checkbox"] {
    @apply h-6 w-6 rounded-full border-primary text-primary focus:ring-secondary cursor-pointer;
  }

  legend {
    @apply text-xl font-bold mb-4;
  }

  label {
    @apply cursor-pointer;
  }

  fieldset {
    @apply grid gap-4 text-left md:mt-20 pb-10 md:pb-20 text-lg;
  }
  fieldset.grid-cols-4,
  fieldset.grid-cols-3 {
    @apply max-w-[30rem];
  }

  fieldset.grid-cols-2 {
    @apply max-w-[19rem];
  }

  fieldset label {
    @apply flex flex-col gap-2 cursor-pointer text-lg;
  }

  fieldset p {
    @apply text-lg leading-tight;
  }

  h3 {
    @apply text-3xl;
  }

  .card {
    @apply aspect-square bg-primary text-white flex border border-4 sm:border-8 border-background flex-col justify-between w-full basis-full basis-1/2 lg:basis-1/4 cursor-pointer;
  }

  .card.active {
    @apply bg-secondary relative;
  }

  .card.active::after {
    @apply content-['â•‹'] absolute top-3 right-4 rotate-45;
  }

  .card.active:hover::after {
    @apply text-black;
  }

  .card div {
    @apply items-center justify-center flex flex-initial h-1/2;
  }

  .card div:first-child {
    @apply pt-[15%];
  }

  .card div:first-child svg {
    @apply text-secondary h-full w-auto;
  }

  .card:hover div:first-child svg,
  .card.active div:first-child svg {
    @apply text-white;
  }

  .card div:last-child {
    @apply overflow-hidden;
  }

  nav ul a:hover {
    @apply underline;
  }

  .card div:last-child p {
    @apply h-full flex items-center text-center sm:text-2xl md:text-2xl lg:text-base xl:text-2xl font-bold;
  }

  .info {
    @apply w-full pt-12 pb-20 max-md:plc max-md:prc lg:pr-40 leading-tight border border-8 border-background hidden;
  }

  .info.active {
    @apply block;
  }

  .info h3 {
    @apply text-secondary mb-6 text-lg lg:text-3xl font-bold;
  }

  .btn-lg {
    @apply py-2 px-8 ~text-base/lg;
  }

  .plc {
    @apply pl-[7%];
  }

  .plc2 {
    @apply pl-[14%];
  }

  .prc {
    @apply pr-[7%];
  }

  .prc2 {
    @apply pr-[14%];
  }
}

@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Titillium";
  font-style: normal;
  font-weight: 200;
  src: url("../fonts/TitilliumWeb-Light.woff2") format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Titillium";
  font-style: normal;
  font-weight: 400;
  src: url("../fonts/TitilliumWeb-Regular.woff2") format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Titillium";
  font-style: normal;
  font-weight: 600;
  src: url("../fonts/TitilliumWeb-SemiBold.woff2") format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Titillium";
  font-style: normal;
  font-weight: 800;
  src: url("../fonts/TitilliumWeb-Bold.woff2") format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Titillium";
  font-style: normal;
  font-weight: 1000;
  src: url("../fonts/TitilliumWeb-Black.woff2") format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}

/* ====================================== */
/* === DARKMODE SWITCH AND TRANSITION === */
/* ====================================== */

:root {
  --bg-planet-bright: #ecd590;
  --bg-polygon-bright: #f2a54c;
  --bg-planet-shadow: #828894;
  --bg-planet-lightshadow: #3a3a3a;
  --dot-size: 0.25rem;
}

html {
  body {
    label.darkmode-container {
      height: 100%;
      cursor: pointer;
      position: relative;
      /* To make outline on mobile invisible */
      -webkit-tap-highlight-color: rgba(255, 255, 255, 0);

      input[type="checkbox"] {
        height: 0;
        width: 0;
        visibility: hidden;
        position: absolute;
      }

      .planet {
        display: block;
        width: 1.25rem;
        height: 1.25rem;
        border-radius: 50%;
        overflow: hidden;
        background: radial-gradient(3.75em, 99%, transparent 100%);
        background-color: var(--bg-planet-bright);
        background-repeat: no-repeat;
        position: relative;
        will-change: background;
        transition: all 400ms ease;
        z-index: 11;

        /* Safari transition issue */
        backface-visibility: hidden;
        transform: translate3d(0, 0, 0);

        &::after {
          content: "";
          background-color: var(--bg-planet-shadow);
          width: 1.25rem;
          height: 1.25rem;
          position: absolute;
          border-radius: 50%;
          will-change: opacity, transform, background-color;
          opacity: 0;
          transform: translate(2em, -2em);
          transition: opacity 400ms ease, transform 400ms ease,
            background-color 400ms ease;
        }
      }

      .elements {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        transition: transform 400ms ease;
        z-index: 10;
        display: flex;
        justify-content: center;
        align-items: center;

        svg {
          position: absolute;
          width: 12px;
          height: 12px;
          opacity: 1;
          transition: transform 400ms ease, opacity 200ms ease, width 200ms ease,
            height 200ms ease;
          polygon {
            fill: var(--bg-polygon-bright);
            transition: fill 400ms ease;
          }
          &:first-child {
            transform: translate(0, -0.8rem);
          }
          &:nth-child(2) {
            transform: translate(0.55em, -0.55em) rotate(45deg);
          }
          &:nth-child(3) {
            transform: translate(0.8em, 0) rotate(90deg);
          }
          &:nth-child(4) {
            transform: translate(0.55em, 0.55em) rotate(135deg);
          }
          &:nth-child(5) {
            transform: translate(0, 0.8em) rotate(180deg);
          }
          &:nth-child(6) {
            transform: translate(-0.55em, 0.55em) rotate(225deg);
          }
          &:nth-child(7) {
            transform: translate(-0.8em, 0) rotate(270deg);
          }
          &:nth-child(8) {
            transform: translate(-0.55em, -0.55em) rotate(315deg);
          }
          &:nth-child(9) {
            transform: translate(0em, -1em);
            opacity: 0;
          }
          &:nth-child(10) {
            transform: translate(0em, -1.5em);
            opacity: 0;
          }
          &:nth-child(11) {
            transform: translate(0em, -1.25em);
            opacity: 0;
          }
        }
      }
    }
  }

  &.dark {
    label.darkmode-container {
      input[type="checkbox"] {
        & + .planet {
          --bg-planet-bright: #d7d7d8;

          &::after {
            opacity: 1;
            transform: translate(0.4em, -0.3em);
          }
        }

        & ~ .elements {
          transform: rotate(180deg);
          z-index: 12;

          svg {
            transform: translate(0.5em, 1em);
            opacity: 0;

            &:nth-child(9) {
              transform: translate(-0.2em, 0.4em);
              width: 0.2em;
              height: 0.2em;
              opacity: 1;
              circle {
                fill: var(--bg-planet-lightshadow);
              }
            }
            &:nth-child(10) {
              transform: translate(-0.35em, 0);
              width: 0.45em;
              height: 0.45em;
              opacity: 1;
              circle {
                fill: var(--bg-planet-lightshadow);
              }
            }
            &:nth-child(11) {
              transform: translate(0, 0.2em);
              width: 0.25em;
              height: 0.25em;
              opacity: 1;
              circle {
                fill: var(--bg-planet-lightshadow);
              }
            }
          }
        }
      }
    }
  }
}
