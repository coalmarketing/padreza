(()=>{var b=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var u=(n,e,i)=>new Promise((s,o)=>{var r=a=>{try{m(i.next(a))}catch(f){o(f)}},c=a=>{try{m(i.throw(a))}catch(f){o(f)}},m=a=>a.done?s(a.value):Promise.resolve(a.value).then(r,c);m((i=i.apply(n,e)).next())});var y=b(l=>{var d=document.getElementById("form-1"),t=document.getElementById("form-2");if(d)d.addEventListener("submit",n=>{if(n.preventDefault(),!d.checkValidity()){d.reportValidity();return}let e=Object.fromEntries(new FormData(d));localStorage.setItem("form1",JSON.stringify(e)),window.location.href="/poptavka/"});else if(t){let n=JSON.parse(localStorage.getItem("form1"));n||(window.location.href="/#objednavka"),Object.entries(n).forEach(([s,o])=>{let r=t.querySelector(`input[name="${s}"]`);r&&(r.value=o)});let i=t.querySelector('button[type="submit"]').innerHTML;t.addEventListener("submit",s=>u(null,null,function*(){if(t.dataset.sending==="done"||(s.preventDefault(),t.dataset.sending==="true"))return;t.dataset.sending="true";let o=new FormData(t),r=Object.fromEntries(o.entries());try{yield fetch("/.netlify/functions/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t.dataset.sending="done",t.submit()}catch(c){console.error("Chyba submit.js:",c),t.dataset.sending="false",alert("Odesl\xE1n\xED se nezda\u0159ilo, zkuste to pros\xEDm znovu.")}}))}});y();})();
