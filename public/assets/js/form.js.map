{
  "version": 3,
  "sources": ["../../../src/assets/js/form.js"],
  "sourcesContent": ["const form1 = document.getElementById(\"form-1\");\nconst form2 = document.getElementById(\"form-2\");\n\nif (form1) {\n    form1.addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        if (!form1.checkValidity()) {\n            form1.reportValidity();\n            return;\n        }\n\n        const data = Object.fromEntries(new FormData(form1));\n        localStorage.setItem(\"form1\", JSON.stringify(data));\n        window.location.href = \"/poptavka/\";\n    });\n}\nelse if (form2) {\n    const data1 = JSON.parse(localStorage.getItem(\"form1\"));\n    if (!data1) window.location.href = \"/#objednavka\";\n\n    // napln\u011Bn\u00ED hidden input\u016F z kroku 1\n    Object.entries(data1).forEach(([key, value]) => {\n        const input = form2.querySelector(`input[name=\"${key}\"]`);\n        if (input) input.value = value;\n    });\n\n    const submitBtn = form2.querySelector('button[type=\"submit\"]');\n    const originalBtnText = submitBtn.innerHTML;\n\n    form2.addEventListener(\"submit\", async (e) => {\n        e.preventDefault();\n\n        if (form2.dataset.sending === \"true\") return;\n        form2.dataset.sending = \"true\";\n\n        const formData = new FormData(form2);\n        const data = Object.fromEntries(formData.entries());\n\n        // Vol\u00E1n\u00ED serverless funkce kter\u00E1 vytvo\u0159\u00ED MD soubor v repozit\u00E1\u0159i\n        try {\n            await fetch(\"/.netlify/functions/submit\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(data),\n            });\n        } catch (err) {\n            console.error(\"Chyba submit.js:\", err);\n        }\n\n        form2.removeEventListener(\"submit\", this);\n        form2.submit(); // klasick\u00FD submit -> Netlify Forms zachyt\u00ED data\n    });\n\n}\n"],
  "mappings": ";;;;;;;AAAA;AAAA;AAAA,UAAM,QAAQ,SAAS,eAAe,QAAQ;AAC9C,UAAM,QAAQ,SAAS,eAAe,QAAQ;AAE9C,UAAI,OAAO;AACP,cAAM,iBAAiB,UAAU,CAAC,MAAM;AACpC,YAAE,eAAe;AAEjB,cAAI,CAAC,MAAM,cAAc,GAAG;AACxB,kBAAM,eAAe;AACrB;AAAA,UACJ;AAEA,gBAAM,OAAO,OAAO,YAAY,IAAI,SAAS,KAAK,CAAC;AACnD,uBAAa,QAAQ,SAAS,KAAK,UAAU,IAAI,CAAC;AAClD,iBAAO,SAAS,OAAO;AAAA,QAC3B,CAAC;AAAA,MACL,WACS,OAAO;AACZ,cAAM,QAAQ,KAAK,MAAM,aAAa,QAAQ,OAAO,CAAC;AACtD,YAAI,CAAC,MAAO,QAAO,SAAS,OAAO;AAGnC,eAAO,QAAQ,KAAK,EAAE,QAAQ,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,gBAAM,QAAQ,MAAM,cAAc,eAAe,GAAG,IAAI;AACxD,cAAI,MAAO,OAAM,QAAQ;AAAA,QAC7B,CAAC;AAED,cAAM,YAAY,MAAM,cAAc,uBAAuB;AAC7D,cAAM,kBAAkB,UAAU;AAElC,cAAM,iBAAiB,UAAU,OAAO,MAAM;AAC1C,YAAE,eAAe;AAEjB,cAAI,MAAM,QAAQ,YAAY,OAAQ;AACtC,gBAAM,QAAQ,UAAU;AAExB,gBAAM,WAAW,IAAI,SAAS,KAAK;AACnC,gBAAM,OAAO,OAAO,YAAY,SAAS,QAAQ,CAAC;AAGlD,cAAI;AACA,kBAAM,MAAM,8BAA8B;AAAA,cACtC,QAAQ;AAAA,cACR,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,cAC9C,MAAM,KAAK,UAAU,IAAI;AAAA,YAC7B,CAAC;AAAA,UACL,SAAS,KAAK;AACV,oBAAQ,MAAM,oBAAoB,GAAG;AAAA,UACzC;AAEA,gBAAM,oBAAoB,UAAU,OAAI;AACxC,gBAAM,OAAO;AAAA,QACjB,CAAC;AAAA,MAEL;AAAA;AAAA;",
  "names": []
}
